<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>set_job_or_trans_dir_variable</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_status>0</trans_status>
    <directory>&#47;pdi_repo_export</directory>
    <log>
      <read/>
      <write/>
      <input/>
      <output/>
      <update/>
      <rejected/>
      <connection/>
      <table/>
      <step_performance_table/>
      <use_batchid>Y</use_batchid>
      <use_logfield>N</use_logfield>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <modified_user>admin</modified_user>
  <modified_date>2009&#47;02&#47;20 12:10:15.000</modified_date>
  </info>
  <notepads>
    <notepad>
      <note>NAME:
set_job_or_trans_dir_variable

PART OF:
This transformation is part of create_direcory, which is itself part of export_repository_to_files.
It is not meant to be run stand alone.

PURPOSE:
This transformation&apos;s parent job is called for each result delivered by the previous job.
The result consist of a set of directory names, and the parent job is repsonsible for actually creating the directory.
In order to do that, the parent job requires that the directory name is set in a variable. 
This transformation bridges the gap and grabs the directory name passed as argument to the parent job
and sets it into a variable JOB_OR_TRANS_DIR.
The parent job can then create the directory name passed in JOB_OR_TRANS_DIR.</note>
      <xloc>18</xloc>
      <yloc>5</yloc>
      <width>563</width>
      <heigth>184</heigth>
    </notepad>
  </notepads>
  <order>
  <hop> <from>Get System Info</from><to>Set job_or_trans_dir_name</to><enabled>Y</enabled> </hop>  </order>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>job_or_trans_dir</name>
        <type>command line argument 1</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>86</xloc>
      <yloc>206</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set job_or_trans_dir_name</name>
    <type>SetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <field_name>job_or_trans_dir</field_name>
        <variable_name>JOB_OR_TRANS_DIR</variable_name>
        <variable_type>PARENT_JOB</variable_type>
        <default_value/>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>266</xloc>
      <yloc>206</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>
</transformation>
